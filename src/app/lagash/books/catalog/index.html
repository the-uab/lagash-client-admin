<md-toolbar>
  <div class="md-toolbar-tools">
    <h1>
      Libro
    </h1>
    <span flex></span>
    <md-button class="md-icon-button" aria-label="more">
      <ng-md-icon icon="more_vert"></ng-md-icon>
    </md-button>
  </div>
</md-toolbar>
<md-content flex>
  <div>
    <md-input-container class="md-block" flex-gt-xs>
      <label>Titulo del libro o UUID</label>
      <input ng-model="search" ng-change="vm.search_books(search)">
    </md-input-container>
  </div>
  <md-table-pagination md-limit="vm.query.limit" md-limit-options="[30, 40, 50]" md-page="vm.query.page" md-total="{{vm.total}}" md-on-paginate="vm.on_pagination" md-page-select></md-table-pagination>
  <div ng-if="vm.books.length == 0" class="wargos-text-align">
    <b>No existe <i>libros</i> registrados</b>
  </div>
  <md-list>
    <md-list-item ng-repeat="book in vm.books" ng-click="vm.select_book(book)">
      <ng-md-icon icon="book"></ng-md-icon>
      <p>{{book.title}}</p>
    <md-switch class="md-secondary"
               ng-model="book.enabled"
               ng-change="vm.change_state(book)"></md-switch>
    </md-list-item>
  </md-list>
</md-content>
<md-content layout-padding class="ejemplar-detail">
  <h1 class="md-title">Titulo</h1>
  <p><h1>{{vm.item.title}}</h1></p>
  <!-- <h4 class="md-title">Detalle</h4> -->
  <div layout="row">
    <md-input-container class="md-block" flex-gt-xs>
      <label>Libro</label>
      <input disabled ng-model="vm.item._id">
    </md-input-container>
    <md-input-container class="md-block" flex-gt-xs>
      <label>Ejemplar</label>
      <input disabled ng-model="vm.ejemplar._id">
    </md-input-container>
  </div>
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h1>
        Ejemplar
      </h1>
      <span flex></span>
      <md-button class="md-raised"
                 ng-click="vm.save_ejemplar(vm.ejemplar)">Guardar</md-button>
    </div>
  </md-toolbar>
  <md-content layout-padding>
    <md-input-container class="md-block" flex-gt-xs>
      <label>Index</label>
      <input ng-model="vm.ejemplar.index" md-maxlength="10" class="md-secondary">
      <div ng-messages="form.index.$error">
        <div ng-message="required">This is required.</div>
      </div>
    </md-input-container>
    <md-input-container class="md-block" flex-gt-xs>
      <label>Inventario</label>
      <input ng-model="vm.ejemplar.inventory" md-maxlength="10" class="md-secondary">
      <div ng-messages="form.inventory.$error">
        <div ng-message="required">This is required.</div>
      </div>
    </md-input-container>
    <md-input-container class="md-block" flex-gt-xs>
      <label>Codigo</label>
      <input ng-model="vm.ejemplar.code" md-maxlength="10" class="md-secondary">
      <div ng-messages="form.price.$error">
        <div ng-message="required">This is required.</div>
      </div>
    </md-input-container>
    <md-select ng-model="vm.ejemplar.state"
               placeholder="States"
               class="md-no-underline">
      <md-option value="{{state.key}}" ng-repeat="state in vm.states">{{state.value}}</md-option>
    </md-select>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h1>
          Administrar
        </h1>
        <span flex></span>
      </div>
    </md-toolbar>
    <md-content layout-padding>
      <div layout="row">
        <md-button class="md-raised"
                   ng-click="vm.save_ejemplar(vm.ejemplar)"
                   flex>
          Imprimir
        </md-button>
      </div>
      <div layout="row">
        <md-button class="md-raised"
                   ng-click="vm.save_ejemplar(vm.ejemplar)"
                   flex>
          Generar ficha topogr√°fica
        </md-button>
      </div>
    </md-content>
  </md-content>
</md-content>



<style media="screen">
.ejemplar-detail p {
  text-align: right;
}
</style>
